ACC.cms = {

    loadComponent: function (id, type, target, onSuccess, onError) {
        const self = this;
        if (id) {
            $.ajax({
                url: ACC.config.contextPath + '/cms/component?componentUid=' + encodeURIComponent(id),
                cache: false,
                type: 'GET',
                dataType: 'html',
                success: function (result) {
                    self.insertHtml(result, target, result.indexOf('js-responsive-image') > -1);
                    if (onSuccess) {
                        onSuccess(result, id, type, target);
                    }
                },
                error: function (result) {
                    if (onError) {
                        onError(result, id, type, target);
                    }
                }
            });
        }
    },

    insertHtml: function (html, target, reprocess) {
        if (target) {
            $(target).html(html);
            if (reprocess) {
                ACC.global.reprocessImages();
            }
        }
    }
};
